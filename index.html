<!DOCTYPE html>
<html lang="fi">
<head>
  <link rel="icon" href="favicon2.png" type="image/png">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nettopalkkalaskuri</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gradient-to-br from-blue-200 via-purple-200 to-blue-100 min-h-screen font-sans flex flex-col items-center relative">

  <!-- Kielivalikko -->
  <div class="fixed top-6 right-6">
    <select id="language"
            onchange="vaihdaKieli()"
            class="p-1 text-sm rounded-md border border-gray-300 bg-white shadow-md hover:ring-2 hover:ring-blue-300 transition">
      <option value="fi">Suomi</option>
      <option value="sv">Svenska</option>
      <option value="en">English</option>
    </select>
  </div>

  <!-- Otsikko vasemmalla -->
  <h1 id="otsikko"
      class="absolute top-8 left-8 text-5xl font-extrabold text-purple-500 tracking-tight drop-shadow-sm">
      Nettopalkkalaskuri
  </h1>

  <!-- Pääboksin sisältö -->
  <div class="w-full max-w-lg p-8 bg-white rounded-3xl shadow-2xl mt-32 relative" id="paaBoksi">

    <!-- Otsikon ala-teksti -->
    <p id="otsikkoAlateksti" class="text-center text-2xl text-blue-700 font-bold mb-6">
      Laske, paljonko sinulle jää rahaa verojen jälkeen
    </p>

    <!-- Syöttökentät -->
    <div class="space-y-4">
      <div>
        <label id="labelPalkka" for="palkka" class="block text-gray-700 font-semibold mb-1">Kuukausipalkka (€)</label>
        <input id="palkka" type="number" step="0.01" min="0" placeholder=" 3500"
               class="w-full p-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none transition shadow-sm">
      </div>

      <div>
        <label id="labelIka" for="ika" class="block text-gray-700 font-semibold mb-1">Ikä</label>
        <input id="ika" type="number" step="1" min="0" placeholder=" 38"
               class="w-full p-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none transition shadow-sm">
      </div>

      <div>
        <label id="labelKunta" for="kunta" class="block text-gray-700 font-semibold mb-1">Kaupunki</label>
        <select id="kunta" class="w-full p-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:outline-none transition shadow-sm">
          <option value="Helsinki">Helsinki</option>
          <option value="Tampere">Tampere</option>
          <option value="Oulu">Oulu</option>
          <option value="Turku">Turku</option>
          <option value="Muu">Muu Suomi</option>
        </select>
      </div>

      <div class="flex items-center space-x-2">
        <input id="kirkollisvero" type="checkbox" class="accent-blue-600 w-5 h-5">
        <label id="labelKirkko" for="kirkollisvero" class="text-gray-700 font-semibold">Kuulun kirkkoon</label>
      </div>
    </div>

    <!-- Laske-painike -->
    <button id="laskeNappi" onclick="laske()"
            class="mt-6 w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white py-3 rounded-2xl text-lg font-bold shadow-lg transition-all transform hover:scale-105">
      Laske
    </button>

    <!-- Tuloskortti -->
    <div id="tulos"
         class="mt-8 bg-gradient-to-r from-green-100 to-green-200 p-6 rounded-3xl shadow-lg text-center text-2xl font-bold text-green-800 opacity-0 translate-y-3 transition-all duration-700">
    </div>

  </div>

  <!-- Lailliset varoitukset laatikon ulkopuolella -->
  <div id="varoitus"
     class="px-6 text-justify mt-4 max-w-[840px] text-xs rounded-md text-gray-900"
     style="
       margin-left: calc(50% - 420px);
       margin-right: calc(50% - 420px);
     ">
    Tämä nettolaskuri on suuntaa-antava. Se ei korvaa virallista veroneuvontaa tai verolaskuria. Lopullinen verotietosi voi poiketa laskurin tuloksista. Kehittäjä ei vastaa laskurin antamien tietojen virheellisyydestä, seurauksista tai päätöksistä, joita teet laskurin perusteella. Huom! Laskuri ei ota huomioon kaikkia mahdollisia vero- tai vähennyskohtia (esim. henkilökohtaiset vähennykset, eläkemaksut tai muut erityistapaukset).
  </div>

  <script>
    // Käännökset
    const texts = {
      fi: {
        otsikko: "Nettopalkkalaskuri",
        otsikkoAlateksti: "Laske, paljonko sinulle jää rahaa verojen jälkeen",
        palkka: "Kuukausipalkka (€)",
        ika: "Ikä",
        kunta: "Kaupunki",
        kirkko: "Kuulun kirkkoon",
        laske: "Laske",
        kaateen: "Käteen jää (kk)",
        vero: "Vero (kk)",
        veroprosentti: "Arvioitu veroprosentti",
        vuosiyhteenveto: "Vuositiedot",
        vuositulo: "Vuosipalkka",
        vuosivero: "Vero vuodessa",
        vuosinetto: "Käteen vuodessa",
        virhe: "Syötä palkka ja ikä oikein.",
        varoitus: "Tämä nettolaskuri on suuntaa-antava. Se ei korvaa virallista veroneuvontaa tai verolaskuria. Lopullinen verotietosi voi poiketa laskurin tuloksista. Kehittäjä ei vastaa laskurin antamien tietojen virheellisyydestä, seurauksista tai päätöksistä, joita teet laskurin perusteella. Huom! Laskuri ei ota huomioon kaikkia mahdollisia vero- tai vähennyskohtia (esim. henkilökohtaiset vähennykset, eläkemaksut tai muut erityistapaukset)."
      },
      sv: {
        otsikko: "Nettolönskalkylator",
        otsikkoAlateksti: "Beräkna hur mycket pengar du får kvar efter skatt",
        palkka: "Månadslön (€)",
        ika: "Ålder",
        kunta: "Stad",
        kirkko: "Jag tillhör kyrkan",
        laske: "Beräkna",
        kaateen: "Netto (mån)",
        vero: "Skatt (mån)",
        veroprosentti: "Beräknad skattesats",
        vuosiyhteenveto: "Årsuppgifter",
        vuositulo: "Årslön",
        vuosivero: "Skatt per år",
        vuosinetto: "Netto per år",
        virhe: "Ange lön och ålder korrekt.",
        varoitus: "Denna nettolönkalkylator är vägledande. Den ersätter inte officiell skatterådgivning eller skattekalkylator. Dina slutliga skatteuppgifter kan skilja sig från kalkylatorns resultat. Utvecklaren ansvarar inte för felaktig information eller beslut som fattas baserat på kalkylatorns resultat. Observera! Kalkylatorn tar inte hänsyn till alla möjliga skatteavdrag eller undantag (t.ex. personliga avdrag, pensionsavgifter eller andra särskilda fall)."
      },
      en: {
        otsikko: "Net Salary Calculator",
        otsikkoAlateksti: "Calculate how much money you take home after taxes",
        palkka: "Monthly Salary (€)",
        ika: "Age",
        kunta: "City",
        kirkko: "Member of Church",
        laske: "Calculate",
        kaateen: "Net Pay (mo)",
        vero: "Tax (mo)",
        veroprosentti: "Estimated Tax Rate",
        vuosiyhteenveto: "Annual Summary",
        vuositulo: "Annual Salary",
        vuosivero: "Annual Tax",
        vuosinetto: "Annual Net",
        virhe: "Please enter valid salary and age.",
        varoitus: "This net salary calculator is for guidance only. It does not replace official tax advice or calculators. Your final tax information may differ from the calculator's results. The developer is not responsible for any incorrect information or decisions made based on the calculator's results. Note! The calculator does not consider all possible tax deductions or exceptions (e.g., personal deductions, pension contributions, or other special cases)."
      }
    };

    // Vaihda kieli
    function vaihdaKieli() {
      const lang = document.getElementById("language").value;
      const t = texts[lang];

      document.getElementById("otsikko").innerText = t.otsikko;
      document.getElementById("otsikkoAlateksti").innerText = t.otsikkoAlateksti;
      document.getElementById("labelPalkka").innerText = t.palkka;
      document.getElementById("labelIka").innerText = t.ika;
      document.getElementById("labelKunta").innerText = t.kunta;
      document.getElementById("labelKirkko").innerText = t.kirkko;
      document.getElementById("laskeNappi").innerText = t.laske;
      document.getElementById("varoitus").innerText = t.varoitus;

      if (document.getElementById("tulos").innerHTML.trim() !== "") {
        laske();
      }
    }

    // Laskenta
    function laske() {
      const palkka = parseFloat(document.getElementById("palkka").value);
      const ika = parseInt(document.getElementById("ika").value);
      const kunta = document.getElementById("kunta").value;
      const kirkollisvero = document.getElementById("kirkollisvero").checked;
      const tulosDiv = document.getElementById("tulos");
      const lang = document.getElementById("language").value;
      const t = texts[lang];

      if (isNaN(palkka) || palkka < 0 || isNaN(ika) || ika < 0) {
        alert(t.virhe);
        return;
      }

      const kunnallisverot = {
        "Helsinki": 0.175,
        "Tampere": 0.19,
        "Oulu": 0.205,
        "Turku": 0.20,
        "Muu": 0.21
      };
      let kunnallisvero = kunnallisverot[kunta] || 0.20;
      if (kirkollisvero) kunnallisvero += 0.015;

      let tyel = (ika >= 53 && ika <= 62) ? 0.0865 : 0.0715;
      const tyottomyysvakuutus = 0.015;
      const sairausvakuutus = 0.015;

      const veroSumma = palkka * (kunnallisvero + tyel + tyottomyysvakuutus + sairausvakuutus);
      const netto = palkka - veroSumma;
      const veroprosentti = (veroSumma / palkka) * 100;

      const vuosipalkka = palkka * 12;
      const vuosivero = veroSumma * 12;
      const vuosinetto = netto * 12;

      tulosDiv.innerHTML = `
        <div class="text-2xl font-bold">${t.kaateen}: ${netto.toFixed(2)} €</div>
        <div class="text-lg font-semibold mt-2">${t.vero}: ${veroSumma.toFixed(2)} €</div>
        <div class="text-lg font-semibold mt-1">${t.veroprosentti}: ${veroprosentti.toFixed(1)}%</div>

        <hr class="my-4 border-gray-300">

        <div class="text-lg font-bold mb-2 text-gray-900">${t.vuosiyhteenveto}</div>
        <div class="text-base font-semibold text-gray-900">${t.vuositulo}: ${vuosipalkka.toFixed(2)} €</div>
        <div class="text-base font-semibold text-gray-900">${t.vuosivero}: ${vuosivero.toFixed(2)} €</div>
        <div class="text-base font-semibold text-gray-900">${t.vuosinetto}: ${vuosinetto.toFixed(2)} €</div>
      `;

      tulosDiv.style.opacity = "1";
      tulosDiv.style.transform = "translateY(0)";
    }

    // Alusta kieli ja tekstit
    window.onload = () => {
      vaihdaKieli();
    };
  </script>

</body>
</html>

